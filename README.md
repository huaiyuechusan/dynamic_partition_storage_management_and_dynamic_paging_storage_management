# 操作系统课程设计

本项目包含两个内存管理模拟程序：

## 1. 动态分区存储管理模拟程序

这是一个用C语言实现的动态分区存储管理模拟程序，支持最先适应、最佳适应和最坏适应三种内存分配算法。

### 功能特点

1. 支持三种内存分配算法：
   
   - 最先适应算法
   - 最佳适应算法
   - 最坏适应算法
2. 内存管理功能：
   
   - 内存分配
   - 内存释放
   - 空闲分区合并
   - 内存使用情况显示
3. 用户界面：
   
   - 彩色显示
   - 清晰的菜单系统
   - 实时显示内存状态

## 2. 请求式分页管理模拟程序

这是一个用C语言实现的请求式分页管理模拟程序，实现了局部置换的FIFO页面置换算法。

### 功能特点

1. 系统参数：
   
   - 内存大小：64KB
   - 内存块大小：1KB
   - 最大页数：64页
   - 每个作业分配的内存块数：4个
2. 页表结构：
   
   - 页号
   - 存在标志
   - 内存块号
   - 修改标志
   - 磁盘位置
   - 装入时间（用于FIFO算法）
3. 页面置换：
   
   - 采用局部置换策略
   - 使用FIFO（先进先出）算法
   - 支持页面写回机制
4. 地址转换：
   
   - 支持逻辑地址到物理地址的转换
   - 处理缺页中断
   - 显示详细的执行过程

## 编译和运行

### 环境要求

- Windows操作系统
- C语言编译器（如GCC、MinGW等）

### 编译方法

```bash
# 编译动态分区管理程序
gcc dynamic_memory_management.c -o memory_manager

# 编译请求式分页管理程序
gcc page_management.c -o page_manager
```

### 运行方法

```bash
# 运行动态分区管理程序
./memory_manager

# 运行请求式分页管理程序
./page_manager
```

## 使用说明

### 动态分区管理程序

1. 程序启动后，会显示主菜单，包含以下选项：
   
   - 1. 显示内存使用情况
   - 2. 分配内存
   - 3. 释放内存
   - 4. 切换分配算法
   - 5. 重置内存
   - 6. 退出程序
2. 内存分配：
   
   - 选择选项2
   - 输入进程名称
   - 输入所需内存大小（KB）
3. 内存释放：
   
   - 选择选项3
   - 输入要释放内存的进程名称
4. 切换算法：
   
   - 选择选项4
   - 输入算法编号（1-最先适应，2-最佳适应，3-最坏适应）

### 请求式分页管理程序

1. 程序启动后，会显示系统参数和初始页表状态
2. 按任意键继续执行指令序列
3. 每条指令执行后会显示：
   - 物理地址
   - 是否发生缺页中断
   - 页面置换情况
   - 当前页表状态

## 注意事项

1. 如果出现中文乱码，请确保使用GB2312编码编译和运行程序
2. 程序会自动处理页面置换和地址转换
3. 支持页面修改标志和写回机制
4. 使用彩色显示提高可读性

## 数据结构

### 动态分区管理

1. 内存分区结构（Partition）：
   
   - 起始地址（start_addr）
   - 分区大小（size）
   - 分区状态（status）
   - 进程名称（process_name）
   - 下一个分区指针（next）
2. 资源请求结构（Request）：
   
   - 进程名称（process_name）
   - 请求大小（size）

### 请求式分页管理

1. 页表项结构（PageTableEntry）：
   
   - 页号（page_number）
   - 存在标志（present）
   - 内存块号（frame_number）
   - 修改标志（modified）
   - 磁盘位置（disk_location）
   - 装入时间（load_time）
2. 指令结构（Instruction）：
   
   - 操作类型（operation）
   - 页号（page_number）
   - 页内地址（offset）


